---
title: Рейтинговая система
description: 
published: true
date: 2022-01-12T14:42:52.276Z
tags: 
editor: markdown
dateCreated: 2021-12-25T00:04:04.302Z
---

# **Почему Trueskill лучше Elo?**

У рейтинговой системы Elo есть некоторые недостатки, которые могут сделать 
её неподоходящей для Forged Alliance. Например, ELO не может оценить ничего,
кроме матчей 1 vs 1.

## Командные игры

ELO в действительности может оценить только игры с равными командами, вроде 2 vs 2,
эта система не может правильно посчитать очки для FFA или командных игр, в которых
больше двух сторон. Каждая команда будет считаться одиночным игроком, так что, 
таблица лидеров будет рассчитана вообще для каждой пары игроков.

Однако, TrueSkill может справиться с любым матчем. Команды - это взвешенная сумма
игроков внутри, и результаты правильно рассчитываются из командного результата игроков.
Эта система влёгкую поддерживает FFA, 2vs2vs2 и другие режимы.

## Ничьи

Обработка ничьих в системе ELO отличается от Trueskill. Для ELO, ничья - это
просто наполовину победа, наполовину поражение.

TrueSkill измеряет исход ничьи совсем по-дургому. У каждой карты есть
коэффициент, основанный на всех исходах игр на этой карте. TrueSkill
рассматривает ничьи как значимый результат: Вы попались с игроком,
равным Вам по скиллу.

Но давайте рассмотрим двух игроков с одинаковым мастерством. 

На картах, где ничьи маловероятны, такой исход приведёт к уравниваниию 
скилла, а также система лучше изучит игроков (точный расчёт очков 
мастерства - см. ниже). Ничья также повысит общую статистику ничьих на 
этой карте.

С другой стороны, на картах, вроде "Winter Duel", где ничьи более вероятны,
такой исход будет ожидаемым, так что очки мастерства останутся такими же и 
система не узнает об игроках ничего нового, потому что игра "бессмысленная",
по сравнинию с "нормальным" вариантом развития событий. Этот результат также
увеличит вероятность ничьих на "Winter Duel".

Теперь разберём ситуацию, когда побеждает один из игроков.

На "нормальной" карте, игрок получит очки, например, скажем, победитель
получает 4 очка, а проигравший теряет 4 очка. Этот исход уменьшает 
вероятность ничьих на данной карте.

Итак, на карте "Winter Duel", где ничьи бывают чаще побед, факт того, что
один из игроков победил, значит, что он на самом деле был значительно
сильнее своего оппонента. В результате, его рейтинг будет повышен и уже 
вместо, например, 4 очков, он получит 6, а проигравший потеряет 6 очков.
И такой результат уменьшит вероятность ничьих на "Winter Duel".

## Инфляция

Система ELO имеет тенденцию к раздуванию с течением времени. Поскольку для определения нового рейтинга требуется только сравнение рейтингов двух игроков, лучший игрок, который часто играет, со временем будет набирать все больше и больше очков. 
Например, в начале рейтинговой лестницы GPGnet 10 лучших игроков имели рейтинг около 1900. В настоящее время игрок с самым высоким рейтингом имеет около 2700 очков. Означает ли это, что навыки игроков повышаются? Возможно, но не так сильно. Рейтинг повышается, потому что, как и все хорошие игроки высшего уровня, они часто играют. И поскольку они хороши в игре, они побеждают и набирают очки, со временем повышая рейтинг. 

Для борьбы с инфляцией, в системе Elo есть «K-фактор», ограничивающий максимальное количество очков, которое игрок получает или теряет за игру. GPGNet использовала этот коэффициент равный 30.  Если сравнивать с шахматами, то там K-фактор зависит от рейтинга игрока (у игроков 2400+ коэффициент был 16, тогда как более новый игрок получил 32). Это произвольно, не точно и только искусственно уменьшает проблему инфляции. [нужна цитата] 


Trueskill менее подвержен инфляции. Когда вы запускаете игру, TrueSkill рассчитывает возможный и вероятный исход игры: он оценивает ваши шансы на победу. 

Допустим, он предсказывает, что вы выиграете эту игру. 
Если вы выиграете игру, поскольку это был ожидаемый результат, вы получите очки в зависимости от фактора «шансов ранжирования» (который зависит от разницы в навыках между игроками и вероятности исхода). 
Если вы проиграете игру, как неожиданный результат, вы потеряете больше очков. 

На бумаге это очень похоже на Elo, но алгоритмы, лежащие в основе, более развиты, и как только вы достигнете своего реального рейтинга, если вы не сыграете действительно плохо или не супер-хорошо, вы останетесь на этом уровне. 

![mostrecentfoosballtrueskill.png](/images/mostrecentfoosballtrueskill.png)

Этот график представляет рейтинг TrueSkill для выбранных футбольных команд. Как видите, команда 1 - лучшая, и их рейтинг остается стабильным. 
Команда 5 плохо стартовала (вы проиграли свои первые игры) и имела плохой рейтинг. Со временем TrueSkill удалось исправить это и найти стабильный навык.  Команда 2 - самый интересный случай: это новая команда, действительно хорошая. Поначалу она оценивалась ниже её реального мастерства. Вы можете увидеть, как быстро система смогла определить их правильный рейтинг. Одним из преимуществ Trueskill является то, что он может очень быстро определить ваш правильный рейтинг. 

## Преимущества TrueSkill

TrueSkill может оценить ЛЮБУЮ игру. Вот почему ЛЮБАЯ пользовательская игра или ранговая игра будет влиять на ваш рейтинг навыков. TrueSKill может снизить влияние вашего результата: FFA менее значима, чем 1v1, поэтому результат FFA будет меньше. 

# **Как работает TrueSkill**

### Ваш рейтинг и вы! 

Число, которое вы видите в таблице лидеров, является приблизительным значением вашего реального рейтинга. 

Это означает, что два игрока с одинаковым рейтингом на самом деле могут выступать с разными уровнями навыков. На самом деле, отображается приблизительное значение - вы можете увидеть фактическое распределение, щелкнув правой кнопкой мыши свое имя в списке игроков и выбрав *«Просмотр статистики игрока»*. 


То есть, ваш рейтинг -- это [кривая Гаусса](https://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5).



Он состоит из двух значений: вашего среднего и вашего отклонения. Звучит сложно (поэтому мы еще не показывали их вам), но это легко понять. Не пугайтесь графиков, на самом деле концепция очень проста. 

**Среднее** значение представляет ваш максимальный навык / рейтинг. Система считает, что выше этого быть не может. Trueskill считает, что при вашем текущем уровне навыков вы не можете играть на более высоком уровне, но, возможно, также и на более низком. С технической точки зрения, для случайной величины X с действительным знаком среднее значение - это математическое ожидание X. Для получения дополнительной информации о математике, лежащей в основе этого, посетите Википедию.  [1](https://ru.wikipedia.org/wiki/%D0%A1%D1%80%D0%B5%D0%B4%D0%BD%D0%B5%D0%B5_%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5)

**Стандартное отклонение** - это фактор «неопределенности». Чем он больше, тем выше ваш возможный реальный рейтинг. Стандартное отклонение - широко используемая мера изменчивости или разнообразия, используемая в статистике и теории вероятностей. Он показывает, насколько существует отклонение или "разброс" от среднего (среднего или ожидаемого значения).

Среднее значение часто указывается вместе со стандартным отклонением: среднее значение описывает центральное расположение данных, а стандартное отклонение описывает разброс. 

Возьмем значения нового игрока. По умолчанию у вас есть среднее значение 1500 и отклонение 500. 1500 - **средний уровень**. 

![1ula41330944573.png](/images/1ula41330944573.png)

Когда вы присоединяетесь к первой игре, система прогнозирует, что вы отыграете среднячком (1500). Однако, как вы можете видеть на кривой, вероятность того, что вы достигнете 1000 или 2000, все еще очень высока. 

Проще говоря, у системы недостаточно данных для точного прогнозирования вашего уровня игры, и, следовательно, у вас высокий уровень отклонения или неопределенности. 

В качестве примера возьмем значения игрока с более высоким рейтингом. 

Среднее значение составляет 2189, а отклонение - 56,8 (после 500 игр). 

![123gt1330944863.png](/images/123gt1330944863.png)

Как видите, система прогнозирует, что навыки будут между 2150 и 2250. Мастерство выше или ниже считается статистически маловероятным. 

Теперь рассмотрим случайного игрока после 30 игр. 

Среднее значение = 1188 отклонение = 91 

![1mynw1330945052.png](/images/1mynw1330945052.png)

Этот игрок ниже среднего статистического. TrueSkill считает, что его рейтинг находится между 1100 и 1300. Как и раньше, TrueSkill считает, что статистически маловероятно, что игрок будет выше или ниже этого рейтинга. 

### Что вы видите в таблице лидеров 

Очень простая математическая формула: Рейтинг = Среднее - 3 * Отклонение. (что означает 0 в начале). 

Это очень упрощённое представление, и им следует руководствоваться, учитывая, что до 30 игр это не имеет смысла. 

Почему мы это используем? Это консервативная оценка. С рейтингом 1200 это означает, что вы, вероятно, играете выше 1200, но вряд ли ниже 1200. 

Так что, глядя на это число, вы можете быть уверены, что у игрока есть все шансы сыграть хотя бы на этом уровне и, возможно, даже лучше. 

### Почему я ничего не получил от игры? 

«Перед» игрой TrueSkill «делает ставку» на конкретный результат. Если у вас есть 90% шансов на победу, и вы выигрываете, это означает, что ваш текущий рейтинг правильный и, следовательно, не требует корректировки. Но ваше отклонение будет уменьшаться, поскольку система теперь более статистически уверена в вашем фактическом рейтинге. 

Но если он «ставит» с вероятностью 40% проигрыша, а вы выиграете, это означает, что ваш рейтинг необходимо скорректировать, поскольку это, вероятно, неверно. Ваше отклонение все равно уменьшится (так как любые дополнительные данные ценны), но не намного. 

В заключение, вы не получите очков за победы в играх, которые вы должны выиграть, и не потеряете очки за игры, которые вы вряд ли выиграете. Поэтому система TrueSkill не страдает от инфляции. (см [Почему Trueskill лучше Elo?](https://wiki.faforever.com/ru/Rating-System#%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83-trueskill-%D0%BB%D1%83%D1%87%D1%88%D0%B5-elo "wikilink")).

### Почему я потерял / не набрал очки при победе? 

Перед каждой игрой сервер добавляет больше отклонений к вашему счету. Этого не должно происходить, но это отражает, что вы не робот, и добавляет динамизма лестнице. Что может случиться в очень сбалансированных или очень несбалансированных играх: 

-   Ваше среднее значение немного увеличилось, как и должно быть. Но не сильно, так как исход игры подтверждает ваш текущий ранг. 
-   Ваше отклонение уменьшено, как должно быть, но не настолько, поскольку игра не имела особого значения для корректировки. В результате ваше отклонение меньше числа, которое было до игры (что приводит к увеличению вашего отклонения). 

Поскольку ваш Рейтинг = Среднее - 3 * Отклонение (значение в скобках возле рейтинга), и ваше среднее значение не сильно меняется, в то время как ваше отклонение немного увеличивается, результатом будет более низкий рейтинг. 

Это не значит, что вы теряете очки. Ваше среднее значение все равно будет увеличиваться правильно. Когда это происходит, это может быть максимум уменьшения на 1 или 2 пункта. Это не так страшно. 

**Помните, что Trueskill должен поставить вас в нужное место, когда вы определитесь, вы не будете много двигаться. Так что не всегда можно набирать очки за победу!** Как только вы достигнете своего звания, ваш рейтинг сильно не изменится. Это совершенно нормально. 

### Как это работает в командных играх

Каждая команда - это сумма рейтинга каждого игрока. Вы можете подумать, что это неправда, потому что некоторые члены команды, вероятно, работают больше, чем другие. 

Кроме того, иногда возникает особая динамика, из-за которой сумма больше, чем слагаемые. 

Но принять их во внимание будет невозможно. Вместо этого Trueskill следует одному правилу: 

*«Статистически сложные методы не обязательно обеспечивают более точные прогнозы, чем более простые»*

По окончании игры результат команды переносится на ваш личный рейтинг. Это означает, что товарищ по команде может много выиграть от игры, в то время как вы ничего не получите. 

### Выводы

Поначалу ваше отклонение настолько велико, что ваш рейтинг теряет смысл. 

Это также означает, что в ваших первых играх ваш рейтинг может быть очень "скачущим" или очень низким / высоким без уважительной причины. Это совершенно нормально, так как ваше отклонение будет иметь большее значение, чем ваше среднее значение (**Среднее - 3 * Отклонение**, чем выше отклонение, тем выше "скачки"). 

В любом случае, ваше отклонение уменьшается после каждой игры (может быть, сильно, а может и нет, это зависит от актуальности этой игры). 

**После 30-40 игр система вас «выучит», и ваш рейтинг начинает обретать смысл.**

## Ссылки
[Computing Your Skill](http://www.moserware.com/2010/03/computing-your-skill.html) – Moserware

# **Индекс игрового баланса**

### Быстрое объяснение:

-   100% = Игра сбалансирована. 
-   75% = Игра, скорее всего, сбалансирована. 
-   50% = Игра может быть сбалансирована. 
-   25% = Игра, скорее всего, не сбалансирована. 
-   0% = Даже не пытайтесь запустить эту игру. 

40% не значит, что игра будет ужасной, а вот 5% означает именно это. 

Возможно, вы сразу захотите прочитать [заключение](https://wiki.faforever.com/ru/Rating-System#%D0%B7%D0%B0%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5 "wikilink").

### Что такое индекс игрового баланса

Индекс игрового баланса показывает, насколько хорошо команды в вашем матче сбалансированы в соответствии с текущим составом команд. 

Например:

В ситуации x vs x: 

Индекс 1 (100%) означает, что обе команды имеют равные шансы на победу. 

Индекс 0 (0%) означает, что у одной команды статистически нет шансов на победу. Это ненулевая вероятность, но крайне маловероятная. 

### Почему у двух команд / игроков с одинаковым рейтингом нет 100% индекса? 

Во-первых, из-за того, что объясняется здесь: [Как работает TrueSkill](https://wiki.faforever.com/ru/Rating-System#%D0%BA%D0%B0%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82-trueskill "wikilink").

Два игрока с одинаковым визуальным рейтингом могут иметь очень разные средние значения и значения отклонений. 

Но даже два игрока с одинаковым средним значением и отклонением не дадут вам 100% -ный рейтинг баланса! 

Если отклонение велико, шансы, что ваше «среднее» верное, невелики. (ваше отклонение отображается цветом вашей оценки в лобби. Белее = ближе к вашей реальной оценке) 

Как новый игрок: 

![<File:1ula41330944573.png>](1ula41330944573.png "File:1ula41330944573.png")

В матче 1 на 1 два игрока с таким графиком могут быть от 1000 до 2000. Это означает, что, возможно, мы сопоставляем игрока с 1100 рейтинга и игрока, у которого 1700! 

Так как это не известно наверняка, TrueSkill обдумывает баланс игры. В результате такого совпадения коэффициент качества игры составит 44%. 

![<File:1mynw1330945052.png>](1mynw1330945052.png "File:1mynw1330945052.png")

С двумя игроками с этими значениями (Среднее = 1188, отклонение = 91, после 30 игр) качество игры будет 94%. 

### Заключение

Поскольку значения рассчитываются с учетом отклонений каждого игрока, индекс качества игры можно надежно использовать для определения, сбалансирована игра или нет. 

**Но это всего лишь упрощённое представление**, далеко не точно, что игра с рейтингом 20% будет ужасна. Существует множество других факторов, неизвестных системе: 

-   Положение игроков. Вероятно, игрок может быть очень хорошим на одной позиции и очень плохим на другой. 
-   Карта: человек может быть плохим игроком в целом, но очень хорош на конкретной карте, в которую он играл много раз. 
-   Тип игры: может быть, игрок очень хорош в играх 1 на 1, но не так хорошо работает в командных играх. 
-   Факт того, что у одной из команд есть голосовая связь.
-   Фактор сыгранности в команде.

Так что не стоит судить, следует ли играть в игру или нет, по этому показателю. Он нужен только для того, чтобы помочь вам определить общий баланс в совершенно случайной ситуации! 


При балансировании командных игр рекомендуется следовать [общепринятым правилам](https://goo.gl/koNAkt).

## Как вычисляется этот индекс в ситуации X vs X vs X (vs X)

Сначала вы должны понять, что это за индекс на самом деле. 

Это вероятность ничьи для всех участников. 

Для этого используется цепочка навыков. 

<figure>
<img src="BetaSkillChainIllustration.png" title="BetaSkillChainIllustration.png" width="600" alt="BetaSkillChainIllustration.png" /><figcaption aria-hidden="true">BetaSkillChainIllustration.png</figcaption>
</figure>

Предварительно, это говорит о количестве "бета-очков", которое гарантирует около 80% шансов на победу. 


Цепочка навыков состоит из худшего игрока(команды) с одной стороны и лучшего игрока(команды) с другой стороны. 

Каждый последующий человек в цепочке навыков получает "бета-очки" лучше и имеет 80% вероятность победы над более слабым игроком. 

Таким образом, для обеспечения высокого качества игры в этом случае у каждого игрока(команды) должна быть небольшая разница между "бета-очками" в каждой связке (это означает, что у каждого игрока(команды) есть высокие шансы получить ничью от другого игрока(команды)). 

# **Что такое «Глобальный рейтинг»**

FAF использует настоящую рейтинговую систему для каждой игры. Эта система дает рейтинг в реальном времени всех игроков, которые участвовали в пользовательских и / или рейтинговых играх FAF. Счет игрока зависит от его результатов в игре: высокий скилл приводит к повышению рейтинга, а низкий - вызывает снижение рейтинга. 
[Здесь](https://www.faforever.com/competitive/leaderboards/global) вы можете найти свой точный рейтинг, но имейте в виду, что высокий рейтинг не означает, что вы хороши, но у вас может быть высокий рейтинг, потому что вы хороши. 

### Какие игры влияют на глобальный рейтинг

На глобальный рейтинг влияют **только пользовательские игры**. [Матчи 1 на 1](The_Ladder "wikilink") какое-то время влияли и на рейтинг 1 на 1 и на глобальный рейтинг, но теперь игры 1 на 1 влияют только на ваш "Ladder-рейтинг". 


-   Ваш рейтинг увеличивается, когда вы выигрываете рейтинговую игру, и снижается, когда вы проигрываете рейтинговую игру. Скилл в игре, за исключением выигрыша или проигрыша, не влияет ни на что. 
-   Ваш рейтинг, рейтинг вашего оппонента, непостоянство вашего рейтинга и непостоянство рейтинга вашего оппонента определяют, насколько сильно изменится ваш рейтинг. Чтобы получить интуитивно понятное объяснение, посмотрите это видео-руководство: [Как работает рейтинговая система?](https://goo.gl/dzSEhP)

#### Когда игра является рейтинговой

Как правило, все **стандартные** игры имеют рейтинг, но есть несколько исключений: 

-   ***Определенные игровые настройки***
    -   ***Условие победы - не убийство***
    -   ***Туман войны выключен***
    -   ***Читы включены***
    -   ***Включены стартовые юниты***
    -   ***Включён режим "No Rush"***
    -   ***Есть запрещённые боевые единицы***
    -   ***Команды не зафиксированы***
-   ***Слишком много рассинхронизации*** - будут всплывающие окна; примерно после 20 из них игра не получит рейтинг 
-   ***Сама карта не имеет рейтинга*** - например, «12 The Pass» или «Rush Me More»; это может быть потому, что карта не сбалансирована, или потому, что создатель решил снять ее с ранга. 
-   ***Неравное количество игроков***  - 3 на 2, например.
-   ***FFA не имеют рейтинга***, однако раньше такое было из-за ошибок. Не делайте FFA рейтинговыми намеренно, так как это [считается эксплойтом.](http://forums.faforever.com/viewtopic.php?f=12&t=11322#p116202)
-   ***Игры менее 60 секунд на одного игрока***, присутствующие в реальном времени (не игровое время, и наблюдатели не учитываются).
-   ***[Моды, которые влияют на геймплей](Mod_Vault#Sim_Mods "wikilink")***
    -   [RK's Explosions](https://forums.faforever.com/viewtopic.php?f=41&t=6813) является рейтинговым
    -   [Auto Adjust NetLag](https://forums.faforever.com/viewtopic.php?f=41&t=4307) имеет некоторые одобренные версии
    -   [Santa is Coming Reloaded](https://forums.faforever.com/viewtopic.php?f=41&t=13543) является рейтинговым
-   ***Информация, отправляемая на сервер после игры сбоит или конфликтует*** - иногда такое происходит из-за багов, сообщите об этом, чтобы засчитать изменения рейтинга. 


## **Рейтинг в лобби**

Вы можете получить доступ к [рейтинговым играм](The_Ladder "wikilink") (1v1) на вкладке [лидеров](Leaderboards_and_Rating "wikilink"), но там показаны только игроки, которые играли в [рейтинговые игры](The_Ladder "wikilink") за последние два месяца. Вы также можете увидеть приблизительный [глобальный рейтинг](https://wiki.faforever.com/ru/Rating-System#%D1%87%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%B3%D0%BB%D0%BE%D0%B1%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3 "wikilink") в чате, наведя курсор на значок пользователя в [списке.](FAF_chat "wikilink") 

### Рейтинг в игре 


Вы можете увидеть глобальный рейтинг любого игрока рядом с его ником в лобби FA. 


-   Чтобы увидеть точное число, щелкните правой кнопкой мыши имя игрока и выберите *«Просмотр статистики игрока»* - это покажет вам распределение по Гауссу (какой на самом деле рейтинг), и вы увидите его *рейтинг* в нижней части окна. 
